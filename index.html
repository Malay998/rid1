<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Riddhima: Chapter 18</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Montserrat:wght@200;400;500&display=swap" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <style>
        :root {
            --bg: #050505;
            --text: #e0e0e0;
            --accent: #ff9de9; 
            --gold: #d4af37;
            --glass: rgba(255, 255, 255, 0.03);
            --border: rgba(255, 255, 255, 0.08);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Montserrat', sans-serif;
            overflow-x: hidden;
            overscroll-behavior: none;
        }

        h1, h2, h3, .serif { font-family: 'Cormorant Garamond', serif; }

        img { width: 100%; height: 100%; object-fit: cover; display: block; }

        #bg-canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100vh;
            z-index: -1;
            opacity: 0.6;
        }

        /* --- LOADER --- */
        .loader {
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--accent);
        }
        .loader-text { font-size: 2rem; letter-spacing: 5px; margin-bottom: 20px; opacity: 0; }
        .progress-bar { width: 200px; height: 2px; background: #222; position: relative; overflow: hidden; }
        .progress-fill { position: absolute; top: 0; left: 0; height: 100%; width: 0%; background: var(--accent); }

        section { position: relative; width: 100%; padding: 10vh 5vw; }

        /* --- HERO --- */
        .hero { height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
        .hero-sub { font-size: clamp(14px, 2vw, 18px); letter-spacing: 0.3em; text-transform: uppercase; color: rgba(255,255,255,0.6); margin-bottom: 20px; opacity: 0; transform: translateY(20px); }
        .hero-title { font-size: clamp(4rem, 15vw, 10rem); line-height: 0.9; font-weight: 300; mix-blend-mode: overlay; background: linear-gradient(to bottom, #fff, #aaa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; opacity: 0; transform: translateY(50px); }
        .hero-title span { font-style: italic; color: var(--accent); -webkit-text-fill-color: var(--accent); }
        .scroll-indicator { position: absolute; bottom: 40px; font-size: 12px; letter-spacing: 2px; opacity: 0; animation: bounce 2s infinite; }

        /* --- INTRO --- */
        .intro { min-height: 80vh; display: flex; align-items: center; justify-content: center; }
        .intro-text { font-size: clamp(1.5rem, 4vw, 3rem); line-height: 1.4; font-weight: 300; text-align: center; max-width: 900px; }
        .highlight { color: var(--accent); font-style: italic; }

        /* --- GALLERY --- */
        .gallery-section { height: 100vh; width: 100%; overflow: hidden; padding: 0; display: flex; align-items: center; }
        .gallery-wrapper { display: flex; gap: 5vw; padding: 0 15vw; width: fit-content; }
        .card { width: 350px; height: 500px; flex-shrink: 0; position: relative; border-radius: 8px; overflow: hidden; filter: grayscale(0.8) brightness(0.6); transition: all 0.5s ease; transform: scale(0.9); }
        .card.active { filter: grayscale(0) brightness(1); transform: scale(1.1); box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        .card-num { position: absolute; top: 20px; left: 20px; font-family: 'Cormorant Garamond', serif; font-size: 3rem; color: white; z-index: 2; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }

        /* --- GRID --- */
        .grid-section { min-height: 100vh; display: grid; grid-template-columns: repeat(12, 1fr); gap: 20px; align-items: center; }
        .grid-img { grid-column: 2 / span 4; height: 60vh; overflow: hidden; border-radius: 4px; }
        .grid-text { grid-column: 7 / span 5; }
        .grid-text h2 { font-size: 3.5rem; color: var(--accent); margin-bottom: 1.5rem; }
        .grid-text p { font-size: 1.1rem; line-height: 1.8; color: rgba(255,255,255,0.8); margin-bottom: 1rem; }

        /* --- FOOTER --- */
        .wishes { text-align: center; min-height: 60vh; display: flex; flex-direction: column; justify-content: center; }
        footer { padding: 50px 0; text-align: center; border-top: 1px solid var(--border); opacity: 0.5; font-size: 12px; }

        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(10px); } }

        @media (max-width: 768px) {
            .grid-section { display: flex; flex-direction: column; }
            .grid-img, .grid-text { width: 100%; }
            .card { width: 70vw; height: 50vh; }
        }
    </style>
</head>
<body>

<div class="loader">
    <div class="loader-text">CHAPTER 18</div>
    <div class="progress-bar"><div class="progress-fill"></div></div>
</div>

<canvas id="bg-canvas"></canvas>

<section class="hero">
    <div class="hero-sub">The Princess Arrives</div>
    <h1 class="hero-title">Riddhima<br><span>Turns 18</span></h1>
    <div class="scroll-indicator">SCROLL TO DISCOVER</div>
</section>

<section class="intro">
    <p class="intro-text">
        Eighteen years of brilliance. <br>
        The world just got a little brighter because <span class="highlight">you</span> finally stepped into the spotlight.
    </p>
</section>

<section class="gallery-section" id="gallery">
    <div class="gallery-wrapper" id="gallery-container">
        </div>
</section>

<section class="grid-section">
    <div class="grid-img">
        <img src="1.jpeg" alt="Featured">
    </div>
    <div class="grid-text">
        <h2>Elegance & Chaos</h2>
        <p>A beautiful soul with a wild heart. You’ve grown into someone truly remarkable, and this is only the beginning of your story.</p>
        <p>May your 18th year be filled with big dreams, loud laughs, and endless magic.</p>
    </div>
</section>

<section class="wishes">
    <h2 style="font-size: 3rem;">Make a Wish</h2>
    <p style="margin-top: 20px; font-style: italic; color: #aaa;">"The stars are just a starting point for you."</p>
    <p style="margin-top: 40px; font-size: 1.5rem; color: var(--accent);">Happy Birthday, Riddhima ✨</p>
</section>

<footer>
    <p>DESIGNED FOR THE BIRTHDAY GIRL • 2024</p>
</footer>

<script>
    // 1. GENERATE THE 32 IMAGES
    const container = document.getElementById('gallery-container');
    for (let i = 1; i <= 32; i++) {
        const card = document.createElement('div');
        card.className = 'card';
        const num = i < 10 ? `0${i}` : i;
        card.innerHTML = `
            <div class="card-num">${num}</div>
            <img src="${i}.jpeg" alt="Memory ${i}" loading="lazy">
        `;
        container.appendChild(card);
    }

    // 2. INITIALIZE PLUGINS
    gsap.registerPlugin(ScrollTrigger);

    const lenis = new Lenis({ duration: 1.2, easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)) });
    function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }
    requestAnimationFrame(raf);

    // 3. LOADER
    const tl = gsap.timeline();
    tl.to(".progress-fill", { width: "100%", duration: 1.5, ease: "power2.inOut" })
      .to(".loader", { yPercent: -100, duration: 1, ease: "power4.inOut" })
      .to(".hero-sub", { opacity: 1, y: 0 }, "-=0.2")
      .to(".hero-title", { opacity: 1, y: 0 }, "-=0.5")
      .to(".scroll-indicator", { opacity: 1 }, "-=0.5");

    // 4. HORIZONTAL SCROLL
    const cards = gsap.utils.toArray(".card");
    const scrollTween = gsap.to(cards, {
        xPercent: -100 * (cards.length - 1),
        ease: "none",
        scrollTrigger: {
            trigger: ".gallery-section",
            pin: true,
            scrub: 1,
            // Adjusting end value to make 32 images scroll at a comfortable speed
            end: () => "+=" + (container.offsetWidth)
        }
    });

    // 5. ACTIVE STATE (Focus effect)
    cards.forEach((card) => {
        gsap.to(card, {
            scrollTrigger: {
                trigger: card,
                containerAnimation: scrollTween,
                start: "left center",
                end: "right center",
                toggleActions: "play reverse play reverse",
                toggleClass: "active"
            }
        });
    });

    // 6. BACKGROUND PARTICLES
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    let w, h, particles = [];

    function resize() { w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; }
    window.addEventListener('resize', resize);
    resize();

    class P {
        constructor() {
            this.x = Math.random() * w; this.y = Math.random() * h;
            this.s = Math.random() * 2;
            this.vx = Math.random() * 0.4 - 0.2; this.vy = Math.random() * 0.4 - 0.2;
            this.o = Math.random();
        }
        draw() {
            this.x += this.vx; this.y += this.vy;
            if (this.x > w) this.x = 0; if (this.y > h) this.y = 0;
            ctx.fillStyle = `rgba(255, 255, 255, ${this.o})`;
            ctx.beginPath(); ctx.arc(this.x, this.y, this.s, 0, Math.PI * 2); ctx.fill();
        }
    }
    for (let i = 0; i < 100; i++) particles.push(new P());
    function anim() { ctx.clearRect(0,0,w,h); particles.forEach(p => p.draw()); requestAnimationFrame(anim); }
    anim();

</script>
</body>
</html>